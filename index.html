<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Weather Radar - Markham</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div id="loader" class="loader"></div>
    <div id="map"></div>

    <div class="weather-panel">
      <h2>
        <span class="location-dot"></span>
        Markham, ON
      </h2>
      <div class="weather-grid">
        <div class="weather-item">
          <h3>Temperature</h3>
          <div class="weather-value temp-value" id="temperature">--°C</div>
        </div>
        <div class="weather-item">
          <h3>Wind Speed</h3>
          <div class="weather-value wind-value" id="windSpeed">-- km/h</div>
          <div class="wind-direction" id="windDirection">--</div>
        </div>
      </div>

      <div class="forecast-section">
        <div class="forecast-header" onclick="toggleForecast()">
          <h3>5-Day Forecast</h3>
          <span class="forecast-toggle">▼</span>
        </div>
        <div class="forecast-content" id="forecast-content">
          <div id="forecast"></div>
        </div>
      </div>

      <div class="status-indicator">
        <div class="status-live">
          <div class="status-dot"></div>
          <span>Live • Updates every 5 min</span>
        </div>
        <div class="status-updated" id="last-updated">
          Last updated: Loading...
        </div>
      </div>
    </div>

    <!-- Enhanced Radar Legend -->
    <div class="radar-legend">
      <h4 id="legend-title">Precipitation (Reflectivity dBZ)</h4>
      <div class="legend-vertical">
        <div class="legend-gradient-bar vertical"></div>
        <div class="legend-ticklist">
          <div class="legend-tick"><span class="tick-label">Extreme Storms</span><span class="tick-value">55+ dBZ</span></div>
          <div class="legend-tick"><span class="tick-label">Intense Storm</span><span class="tick-value">45–55 dBZ</span></div>
          <div class="legend-tick"><span class="tick-label">Heavy Rain</span><span class="tick-value">35–45 dBZ</span></div>
          <div class="legend-tick"><span class="tick-label">Moderate Rain</span><span class="tick-value">20–35 dBZ</span></div>
          <div class="legend-tick"><span class="tick-label">Light Rain</span><span class="tick-value">5–20 dBZ</span></div>
          <div class="legend-tick"><span class="tick-label">Very Light / Drizzle</span><span class="tick-value">0–5 dBZ</span></div>
        </div>
      </div>
      <div class="ptype-row">
        <span class="ptype-label">Precipitation Type</span>
        <span id="ptype-badge" class="ptype-badge ptype-none">—</span>
      </div>

    </div>

    <!-- Timeline Controls -->
    <div class="timeline-container">
      <div class="timeline-header">
        <div class="timeline-time" id="current-time">4:57:32 PM</div>
        <div class="timeline-status" id="timeline-status">
          Live • Current Local Time
        </div>
      </div>

      

      <div
        class="timeline-slider"
        id="timeline-slider"
      >
        <div class="timeline-track">
          <div
            class="timeline-handle"
            id="timeline-handle"
            style="left: 50%"
          ></div>
        </div>
      </div>

      <div class="timeline-markers">
        <span>-30 min</span>
        <span>Now</span>
        <span>+30 min</span>
      </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="assets/js/config.js"></script>
    <script src="assets/js/forecast.js"></script>
    <script src="assets/js/timeline.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
